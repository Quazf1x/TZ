В изначальной версии кода выведется "Bad: undefined" 4 раза. 
Происходит это потому что var имеет глобальную область видимости, и 
Через 3 секунды setTimeout замыкает одно и то же значение i, которое является
undefined.

1 Вариант исправления: Объявлять переменную i через let, вместо var.
В данном случае переменная будет иметь блочную область видимости, что
исправит проблемы с замыканием.

2 Вариант исправления: Заменить цикл for на forEach. В таком случае
Для каждой переменной будет создаваться отдельная область видимости.